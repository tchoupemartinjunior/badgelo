<div class="container p-4 mx-auto bg-gray-100 flex flex-col pt-5 items-center">

    <div>
        <h1 class="text-3xl text-purple-700">Edition Photo</h1>
    </div>

    <div class="flex flex-row  bg-white shadow-lg rounded-lg mx-auto justify-center w-10/12 mt-2">

        <!-- Edition section -->

        <div class="w-1/2 p-4 pl-4 border-purple-200 border-r shadow-lg rounded-lg">

            <div class="border-b border-gray-200 mb-4">
                <nav class="-mb-px flex gap-6">
                    @for(tab of tabs; track tab.key) {
                    <button (click)="activeTab = tab.key"
                        class="border-b-2 px-1 pb-2 text-sm font-medium hover:cursor-pointer" [ngClass]="activeTab === tab.key 
                ? 'border-indigo-600 text-indigo-600' 
                : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'">
                        {{ tab.label }}
                    </button>
                    }
                </nav>
            </div>

            <ng-container [ngTemplateOutlet]="activeTab === 'photo' ? editionTools : badgeTools" />
        </div>



        <!-- Preview section -->
        <div class="w-1/2 p-4 flex flex-col items-center bg-gray-50">

            <h2>Aperçu de l'image</h2>
            <bdge-preview></bdge-preview>

            <div class="flex flex-row space-x-4 mt-4 justify-center items-center">
                <bdge-upload-button (fileSelected)="onFileSelected($event)" class="bg-gray-100"></bdge-upload-button>
                <button (click)="download()" class="bg-purple-700 text-white text-base font-medium
           px-6 py-3 rounded-lg shadow-md
           hover:bg-purple-600 hover:shadow-lg
           transition duration-200 ease-in-out">Téléchargez l'image</button>
            </div>

        </div>

    </div>

</div>


<!-- Ajoutez ici les outils d'édition de photo -->
<ng-template #editionTools>
    <div class="edition">
        <div>
            <label class="mb-2">Ajouter un filigrane :</label>
            <input type="checkbox" class="mr-2" /> Activer le filigrane
        </div>
        <div class="mt-4">
            <label>Message : </label>
            <input type="text" [value]="watermarkText" (input)="watermarkText = $event.target.value"
                placeholder="Entrez le texte du filigrane" class="border p-2 w-2/3 mb-4" />
        </div>
        <div>
            <label for="watermarkColor">Couleur du filigrane :</label>
            <input type="color" id="watermarkColor" class="ml-2 mb-4" />
        </div>
        <div>
            <label class="block mb-2">Position du filigrane :</label>
            <select class="border p-2 w-2/3 mb-4">
                <option value="top-left">Haut Gauche</option>
                <option value="top-right">Haut Droit</option>
                <option value="bottom-left">Bas Gauche</option>
                <option value="bottom-right">Bas Droit</option>
                <option value="center">Centre</option>
            </select>
        </div>
    </div>
</ng-template>

<ng-template #badgeTools></ng-template>